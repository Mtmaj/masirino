{% load static tailwind_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تغییر رمز عبور</title>
    {% tailwind_css %}
</head>
<body>
    <div class="flex flex-row w-full h-full justify-center items-center bg-[#f7f7f7]">
        <div class="md:w-[800px] w-[80%] flex flex-row h-fit rounded-[10px] shadow-lg bg-white">
            <img src="/static/images/login_image.jpg" class="w-[400px] rounded-[10px] md:block hidden" />
            <div class="w-full flex flex-col justify-center items-center">
                <div class="h-[60px]"></div>
                <span class="text-[25px]">تغییر رمز عبور!</span>
                <input id="password" type="password" placeholder="رمز عبور جدید..." class="mt-[20px] w-[80%] px-[10px] py-[7px] border-0 outline-0 bg-[#00ffff14] rounded-[5px]"></input>
                {% if password_status == False %}
                <span style="font-size: 14px;color: red;" class="mt-[10px]">رمز عبور وارد شده کمتر از 8 است</span>
                {% endif %}
                <input id="repassword" type="password" placeholder="تکرار رمز عبور..." class="mt-[20px] w-[80%] px-[10px] py-[7px] border-0 outline-0 bg-[#00ffff14] rounded-[5px]"></input>
                {% if repassword_status == False %}
                <span style="font-size: 14px;color: red;" class="mt-[10px]">تکرار رمز عبور اشتباه است!</span>
                {% endif %}
                <div class="h-[60px]"></div>
                <button onclick="Change_BTN()" class="px-[5px] py-[2px] bg-[#11bef2] text-[17px] text-white w-[30%] rounded-[5px]">تغییر</button>
                <a href="/" class="mt-[10px] text-[15px] text-primary md:mb-[0px] mb-[20px]">وارد شدن به حساب کاربری</a>
            </div>
        </div>
    </div>
    <script>
        function Change_BTN(){
            const password = document.getElementById('password').value;
            const repassword = document.getElementById('repassword').value;
            const data_query = {
                'password' : password,
                'repassword' : repassword
            }
            const str_query = JSON.stringify(data_query)
            const url_encode_query = encodeURIComponent(str_query)
            const encode_query = btoa(url_encode_query)
            const query = new URLSearchParams(location.search)
            query.set('DATACHANGE',encode_query)
            location.search = query.toString()
        }
        
    </script>
</body>
</html>